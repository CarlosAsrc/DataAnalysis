plugins {
    id 'java-library'
    id "org.sonarqube" version "3.0"
    id 'jacoco'
//    apply plugin: 'com.bmuschko.clover'
}

repositories {
    jcenter()
}

dependencies {
    testImplementation 'junit:junit:4.12'
}

sonarqube {
    properties {
        property "sonar.projectKey", "CarlosAsrc_DataAnalysis"
        property "sonar.organization", "carlos-asrc"
        property "sonar.host.url", "https://sonarcloud.io"
        property 'sonar.jacoco.reportPath', "${buildDir}/jacoco/test.exec"
    }
}

jacocoTestReport {
    reports {
        xml.enabled true
    }
    dependsOn test
}

plugins.withType(JacocoPlugin) {
    tasks["test"].finalizedBy 'jacocoTestReport'
}